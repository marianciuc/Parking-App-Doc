<!DOCTYPE html><html><head><meta charset="UTF-8"><script src="https://cdn.jsdelivr.net/npm/prismjs/prism.js"></script>
<script src="https://cdn.jsdelivr.net/npm/prismjs/components/prism-bash.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/prismjs/prism.js"></script>
<script src="https://cdn.jsdelivr.net/npm/prismjs/components/prism-http.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/prismjs/prism.js"></script>
<script src="https://cdn.jsdelivr.net/npm/prismjs/components/prism-json.min.js"></script><style>
        .article {
            position: relative;
            padding-bottom: 24px;
        }
        

        .code-block {
            overflow: hidden;
            position: relative;
            padding: 0;
            border-radius: 8px;
            font-variant-ligatures: none;
            background-color: rgba(25, 25, 28, .05);
            word-break: break-all;
        }
        

        .control {
            color: #19191c;
            font-size: 16px;
            font-weight: 670;
        }
        

        .detached {
            margin-block-start: 0;
            margin-block-end: 0;
            margin-bottom: 8px;
        }
        

        .header-row {
            background: #e6e6e6;
        }
        

        .inline-code {
            border-radius: 4px;
            display: inline;
            padding: 2px 1px;
            font-family: JetBrains Sans,monospace;
            background: #e6e6e6;
        }
        

        .list {
            list-style-type: disc;
            padding-left: 0;
            margin-left: 15px;
        }
        

        .list-decimal {
            list-style-type: decimal;
        }
        

        .list-item {
            margin-top: 6px;
            margin-bottom: 6px;
            margin-left: 4px;
        }
        

        .main-title {
            padding-bottom: 24px;
            margin-top: 0;
            font-size: 40px;
            margin-block-start: 0;
            margin-block-end: 0;
        }
        

        .prism {
            page-break-inside: avoid;
        }
        
        /* PrismJS 1.29.0
https://prismjs.com/download.html#themes=prism&languages=markup+css+clike+javascript+abap+abnf+actionscript+ada+agda+al+antlr4+apacheconf+apex+apl+applescript+aql+arduino+arff+armasm+arturo+asciidoc+aspnet+asm6502+asmatmel+autohotkey+autoit+avisynth+avro-idl+awk+bash+basic+batch+bbcode+bbj+bicep+birb+bison+bnf+bqn+brainfuck+brightscript+bro+bsl+c+csharp+cpp+cfscript+chaiscript+cil+cilkc+cilkcpp+clojure+cmake+cobol+coffeescript+concurnas+csp+cooklang+coq+crystal+css-extras+csv+cue+cypher+d+dart+dataweave+dax+dhall+diff+django+dns-zone-file+docker+dot+ebnf+editorconfig+eiffel+ejs+elixir+elm+etlua+erb+erlang+excel-formula+fsharp+factor+false+firestore-security-rules+flow+fortran+ftl+gml+gap+gcode+gdscript+gedcom+gettext+gherkin+git+glsl+gn+linker-script+go+go-module+gradle+graphql+groovy+haml+handlebars+haskell+haxe+hcl+hlsl+hoon+http+hpkp+hsts+ichigojam+icon+icu-message-format+idris+ignore+inform7+ini+io+j+java+javadoc+javadoclike+javastacktrace+jexl+jolie+jq+jsdoc+js-extras+json+json5+jsonp+jsstacktrace+js-templates+julia+keepalived+keyman+kotlin+kumir+kusto+latex+latte+less+lilypond+liquid+lisp+livescript+llvm+log+lolcode+lua+magma+makefile+markdown+markup-templating+mata+matlab+maxscript+mel+mermaid+metafont+mizar+mongodb+monkey+moonscript+n1ql+n4js+nand2tetris-hdl+naniscript+nasm+neon+nevod+nginx+nim+nix+nsis+objectivec+ocaml+odin+opencl+openqasm+oz+parigp+parser+pascal+pascaligo+psl+pcaxis+peoplecode+perl+php+phpdoc+php-extras+plant-uml+plsql+powerquery+powershell+processing+prolog+promql+properties+protobuf+pug+puppet+pure+purebasic+purescript+python+qsharp+q+qml+qore+r+racket+cshtml+jsx+tsx+reason+regex+rego+renpy+rescript+rest+rip+roboconf+robotframework+ruby+rust+sas+sass+scss+scala+scheme+shell-session+smali+smalltalk+smarty+sml+solidity+solution-file+soy+sparql+splunk-spl+sqf+sql+squirrel+stan+stata+iecst+stylus+supercollider+swift+systemd+t4-templating+t4-cs+t4-vb+tap+tcl+tt2+textile+toml+tremor+turtle+twig+typescript+typoscript+unrealscript+uorazor+uri+v+vala+vbnet+velocity+verilog+vhdl+vim+visual-basic+warpscript+wasm+web-idl+wgsl+wiki+wolfram+wren+xeora+xml-doc+xojo+xquery+yaml+yang+zig&plugins=highlight-keywords */
code[class*=language-],pre[class*=language-]{color:#000;background:0 0;text-shadow:0 1px #fff;font-family:Consolas,Monaco,'Andale Mono','Ubuntu Mono',monospace;font-size:1em;text-align:left;white-space:pre-wrap;word-spacing:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none}code[class*=language-] ::-moz-selection,code[class*=language-]::-moz-selection,pre[class*=language-] ::-moz-selection,pre[class*=language-]::-moz-selection{text-shadow:none;background:#b3d4fc}code[class*=language-] ::selection,code[class*=language-]::selection,pre[class*=language-] ::selection,pre[class*=language-]::selection{text-shadow:none;background:#b3d4fc}@media print{code[class*=language-],pre[class*=language-]{text-shadow:none}}pre[class*=language-]{padding:16px;margin:0;overflow:auto}:not(pre)>code[class*=language-],pre[class*=language-]{background:#f5f2f0}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#708090}.token.punctuation{color:#999}.token.namespace{opacity:.7}.token.boolean,.token.constant,.token.deleted,.token.number,.token.property,.token.symbol,.token.tag{color:#905}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string{color:#690}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url{color:#9a6e3a;background:hsla(0,0%,100%,.5)}.token.atrule,.token.attr-value,.token.keyword{color:#07a}.token.class-name,.token.function{color:#dd4a68}.token.important,.token.regex,.token.variable{color:#e90}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}

        

        :root {
            width: 95%;
            max-width: 95vw;
            padding: 0 0 0 30px;
        }
        
        body {
            font-family: JetBrains Sans,serif;
        }
        
        a {
            overflow-wrap: anywhere;
            width: 100vw;
        }
        
        
        @font-face {
            font-family: JetBrains Sans;
            src: url(https://resources.jetbrains.com/storage/jetbrains-sans/JetBrainsSans-Light.woff2) format("woff2"), url(https://resources.jetbrains.com/storage/jetbrains-sans/JetBrainsSans-Light.woff) format("woff");
            font-weight: 300;
            font-style: normal;
        }

        @font-face {
            font-family: JetBrains Sans;
            src: url(https://resources.jetbrains.com/storage/jetbrains-sans/JetBrainsSans-Regular.woff2) format("woff2"), url(https://resources.jetbrains.com/storage/jetbrains-sans/JetBrainsSans-Regular.woff) format("woff");
            font-weight: 400;
            font-style: normal;
        }

        @font-face {
            font-family: JetBrains Sans;
            src: url(https://resources.jetbrains.com/storage/jetbrains-sans/JetBrainsSans-SemiBold.woff2) format("woff2"), url(https://resources.jetbrains.com/storage/jetbrains-sans/JetBrainsSans-SemiBold.woff) format("woff");
            font-weight: 600;
            font-style: normal;
        }
        
        
        code {
            display: inline;
            word-break: break-word;
            font-size: 15px;
            line-height: inherit;
            font-variant-ligatures: none;
            font-family: JetBrains Sans,monospace;
            white-space: pre-line;
            overflow-wrap: break-word;
        }
        
        figcaption {
            margin-top: 5px;
        }
        
        h2 {
            padding-top: 16px;
            padding-bottom: 8px;
            margin-block-start: 0;
            margin-block-end: 0;
        }
        
        h3 {
            padding-top: 8px;
            padding-bottom: 8px;
            margin-block-start: 0;
            margin-block-end: 0;
        }
        
        h4 {
            padding-top: 4px;
            padding-bottom: 8px;
            margin-block-start: 0;
            margin-block-end: 0;
        }
        
        p {
            padding: 0;
            border: 0;
            line-height: 25px;
            margin-block-start: 0;
            margin-block-end: 0;
            padding-bottom: 8px;
        }
        
        div {
            display: block;
        }
        
        table {
            border-collapse: collapse;
            width: 100%;
            page-break-inside: avoid;
        }
        
        th, td {
            border: 1px solid #c4c4c4;
            padding: 10px;
            text-align: left;
            word-break: break-all;
        }
        
        .no-bold {
            font-weight: normal; 
        }
        
        .entry {
            display: grid;
            grid-template-columns: auto max-content;
            grid-template-areas: "chapter page";
            align-items: end;
            gap: 0 .25rem;
            line-height: 25px;
        }
        
        .toc-link-container{
            grid-area: chapter;
            position: relative;
            overflow: hidden;
        }
        
        .toc-link{
            text-decoration: none;
            color: black;
        }
        
        .toc-link-container::after {
            position: absolute;
            padding-left: .25ch;
            content: " . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . "
            ". . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . "
            ". . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . ";
            text-align: right;
        }
        
        .page {
            grid-area: page;
            width: 30px;
            text-align: right;
        }
        

        .table-wrapper {
            overflow: hidden;
            box-sizing: border-box;
            font: inherit;
        }
        

        .topic {
            page-break-before: always;
        }
        </style><title>pdfSourceIN</title></head><body><div><section class="topic"><div><article class="article"><h1 class="main-title">Table of Contents</h1><div class="entry"><div class="toc-link-container"><a class="toc-link" href="#1734147559">API Keys Management Service</a></div><div class="page">2</div></div><div class="entry"><div class="toc-link-container"><a class="toc-link" href="#-103326954">Parking Creation Process</a></div><div class="page">10</div></div><div class="entry"><div class="toc-link-container"><a class="toc-link" href="#3005864">Authorization and Authentication System Documentation</a></div><div class="page">12</div></div></article></div></section><section class="topic"><div><article class="article"><h1 class="main-title" id="1734147559">API Keys Management Service</h1><section class="detached"><h2 id="1734147559#comprehensive-documentation-for-apikey-rest-controller" data-toc="comprehensive-documentation-for-apikey-rest-controller#API-keys.md-comprehensive-documentation-for-apikey-rest-controller">Comprehensive Documentation for ApiKey REST Controller</h2><p id="1734147559#-ousc6m_10">The <span class="inline-code" id="1734147559#-ousc6m_14">ApiKey</span> REST Controller is designed to manage <span class="control" id="1734147559#-ousc6m_15">CRUD operations</span> and additional functionalities for handling API keys in the <span class="control" id="1734147559#-ousc6m_16">Parking Management System</span>. These keys are critical for authentication and must be included in all client requests using a custom header: <span class="inline-code" id="1734147559#-ousc6m_17">X-Api-Key: {apiKeyValue}</span>.</p><p id="1734147559#-ousc6m_11">The controller interacts with the <span class="inline-code" id="1734147559#-ousc6m_18">ApiKey</span> entity and provides the ability to <span class="control" id="1734147559#-ousc6m_19">create</span>, <span class="control" id="1734147559#-ousc6m_20">retrieve</span>, <span class="control" id="1734147559#-ousc6m_21">update</span>, <span class="control" id="1734147559#-ousc6m_22">revoke</span>, and <span class="control" id="1734147559#-ousc6m_23">delete API keys</span>. Only users with <span class="control" id="1734147559#-ousc6m_24">administrator privileges</span> can generate API keys. Below, you will find all the necessary specifications and detailed information for implementing and using the available endpoints.</p></section><section class="detached"><h2 id="1734147559#endpoint-specifications" data-toc="endpoint-specifications#API-keys.md-endpoint-specifications">Endpoint Specifications</h2><section class="detached"><h3 id="1734147559#1-create-a-new-api-key" data-toc="1-create-a-new-api-key#API-keys.md-1-create-a-new-api-key">1. Create a New API Key</h3><ul class="list" id="1734147559#-ousc6m_34" start="1"><li class="list-item" id="1734147559#-ousc6m_37"><p id="1734147559#-ousc6m_44"><span class="control" id="1734147559#-ousc6m_45">URL</span>: <span class="inline-code" id="1734147559#-ousc6m_46">/api/v1/api-keys/generate/{parkingId}</span></p></li><li class="list-item" id="1734147559#-ousc6m_38"><p id="1734147559#-ousc6m_47"><span class="control" id="1734147559#-ousc6m_48">Method</span>: <span class="inline-code" id="1734147559#-ousc6m_49">POST</span></p></li><li class="list-item" id="1734147559#-ousc6m_39"><p id="1734147559#-ousc6m_50"><span class="control" id="1734147559#-ousc6m_51">Description</span>: Allows administrators to create a new API key.</p></li><li class="list-item" id="1734147559#-ousc6m_40"><p id="1734147559#-ousc6m_52"><span class="control" id="1734147559#-ousc6m_54">Path Parameters</span>:</p><ul class="list" id="1734147559#-ousc6m_53" start="1"><li class="list-item" id="1734147559#-ousc6m_55"><p><span class="inline-code" id="1734147559#-ousc6m_57">parkingId</span>: UUID of the parkingId to associate new key.</p></li><li class="list-item" id="1734147559#-ousc6m_56"><p><span class="control" id="1734147559#-ousc6m_58">Key Format</span>: </p><ul class="list" id="1734147559#-ousc6m_59" start="1"><li class="list-item" id="1734147559#-ousc6m_60"><p><span class="inline-code" id="1734147559#-ousc6m_61">keyValue</span>: At least 16 characters long, containing letters and digits.</p></li></ul></li></ul></li><li class="list-item" id="1734147559#-ousc6m_41"><p id="1734147559#-ousc6m_62"><span class="control" id="1734147559#-ousc6m_64">Request Body (JSON)</span>:</p><div class="detached code-block" id="1734147559#-ousc6m_63"><pre><code class="language-json">{
  &quot;scope&quot;: [&quot;SCOPE_1&quot;, &quot;SCOPE_2&quot;]
}</code></pre></div></li><li class="list-item" id="1734147559#-ousc6m_42"><p id="1734147559#-ousc6m_65"><span class="control" id="1734147559#-ousc6m_67">Response (201 - Created)</span>:</p><div class="detached code-block" id="1734147559#-ousc6m_66"><pre><code class="language-json">{
  &quot;id&quot;: &quot;UUID of the API key&quot;,
  &quot;keyValue&quot;: &quot;unique-key-value&quot;,
  &quot;parkingId&quot;: &quot;UUID of the parking&quot;,
  &quot;scope&quot;: [&quot;SCOPE_1&quot;, &quot;SCOPE_2&quot;],
  &quot;issuedBy&quot;: &quot;UUID of the issuer&quot;,
  &quot;revokedBy&quot;: null,
  &quot;status&quot;: &quot;ACTIVE&quot;
}</code></pre></div></li><li class="list-item" id="1734147559#-ousc6m_43"><p id="1734147559#-ousc6m_68"><span class="control" id="1734147559#-ousc6m_70">Error Responses</span>:</p><ul class="list" id="1734147559#-ousc6m_69" start="1"><li class="list-item" id="1734147559#-ousc6m_71"><p><span class="control" id="1734147559#-ousc6m_72">400 Bad Request</span>: Invalid request body structure or missing required fields.</p></li></ul></li></ul></section><section class="detached"><h3 id="1734147559#2-fetch-api-key-details" data-toc="2-fetch-api-key-details#API-keys.md-2-fetch-api-key-details">2. Fetch API Key Details</h3><ul class="list" id="1734147559#-ousc6m_74" start="1"><li class="list-item" id="1734147559#-ousc6m_77"><p id="1734147559#-ousc6m_83"><span class="control" id="1734147559#-ousc6m_84">URL</span>: <span class="inline-code" id="1734147559#-ousc6m_85">/api/v1/api-keys/{id}</span></p></li><li class="list-item" id="1734147559#-ousc6m_78"><p id="1734147559#-ousc6m_86"><span class="control" id="1734147559#-ousc6m_87">Method</span>: <span class="inline-code" id="1734147559#-ousc6m_88">GET</span></p></li><li class="list-item" id="1734147559#-ousc6m_79"><p id="1734147559#-ousc6m_89"><span class="control" id="1734147559#-ousc6m_90">Description</span>: Retrieves the details of a specific API key using its unique ID.</p></li><li class="list-item" id="1734147559#-ousc6m_80"><p id="1734147559#-ousc6m_91"><span class="control" id="1734147559#-ousc6m_93">Path Parameters</span>:</p><ul class="list" id="1734147559#-ousc6m_92" start="1"><li class="list-item" id="1734147559#-ousc6m_94"><p><span class="inline-code" id="1734147559#-ousc6m_95">id</span>: UUID of the API key to fetch information for.</p></li></ul></li><li class="list-item" id="1734147559#-ousc6m_81"><p id="1734147559#-ousc6m_96"><span class="control" id="1734147559#-ousc6m_98">Response (200 - Success)</span>:</p><div class="detached code-block" id="1734147559#-ousc6m_97"><pre><code class="language-json">{
  &quot;id&quot;: &quot;UUID of the API key&quot;,
  &quot;keyValue&quot;: &quot;unique-key-value&quot;,
  &quot;parkingId&quot;: &quot;UUID of the parking&quot;,
  &quot;scope&quot;: [&quot;SCOPE_1&quot;, &quot;SCOPE_2&quot;],
  &quot;issuedBy&quot;: &quot;UUID of the issuer&quot;,
  &quot;revokedBy&quot;: null,
  &quot;status&quot;: &quot;ACTIVE&quot;
}</code></pre></div></li><li class="list-item" id="1734147559#-ousc6m_82"><p id="1734147559#-ousc6m_99"><span class="control" id="1734147559#-ousc6m_101">Error Responses</span>:</p><ul class="list" id="1734147559#-ousc6m_100" start="1"><li class="list-item" id="1734147559#-ousc6m_102"><p><span class="control" id="1734147559#-ousc6m_103">404 Not Found</span>: API key with the specified ID does not exist.</p></li></ul></li></ul></section><section class="detached"><h3 id="1734147559#3-list-all-api-keys" data-toc="3-list-all-api-keys#API-keys.md-3-list-all-api-keys">3. List All API Keys</h3><ul class="list" id="1734147559#-ousc6m_105" start="1"><li class="list-item" id="1734147559#-ousc6m_108"><p id="1734147559#-ousc6m_113"><span class="control" id="1734147559#-ousc6m_114">URL</span>: <span class="inline-code" id="1734147559#-ousc6m_115">/api/v1/api-keys/search</span></p></li><li class="list-item" id="1734147559#-ousc6m_109"><p id="1734147559#-ousc6m_116"><span class="control" id="1734147559#-ousc6m_117">Method</span>: <span class="inline-code" id="1734147559#-ousc6m_118">GET</span></p></li><li class="list-item" id="1734147559#-ousc6m_110"><p id="1734147559#-ousc6m_119"><span class="control" id="1734147559#-ousc6m_120">Description</span>: Fetches a paginated list of all registered API keys with optional filters.</p></li><li class="list-item" id="1734147559#-ousc6m_111"><p id="1734147559#-ousc6m_121"><span class="control" id="1734147559#-ousc6m_123">Query Parameters</span>:</p><ul class="list" id="1734147559#-ousc6m_122" start="1"><li class="list-item" id="1734147559#-ousc6m_124"><p><span class="inline-code" id="1734147559#-ousc6m_129">status</span> (Optional): Filter results by status (<span class="inline-code" id="1734147559#-ousc6m_130">ACTIVE</span>, <span class="inline-code" id="1734147559#-ousc6m_131">REVOKED</span>).</p></li><li class="list-item" id="1734147559#-ousc6m_125"><p><span class="inline-code" id="1734147559#-ousc6m_132">parkingId</span> (Optional): Filtering by parking id</p></li><li class="list-item" id="1734147559#-ousc6m_126"><p><span class="control" id="1734147559#-ousc6m_133">Filters Logic</span>: All specified filters are applied using <span class="inline-code" id="1734147559#-ousc6m_134">AND</span> logic.</p></li><li class="list-item" id="1734147559#-ousc6m_127"><p><span class="inline-code" id="1734147559#-ousc6m_135">page</span> (Optional): Page number for pagination (default: <span class="inline-code" id="1734147559#-ousc6m_136">1</span>).</p></li><li class="list-item" id="1734147559#-ousc6m_128"><p><span class="inline-code" id="1734147559#-ousc6m_137">size</span> (Optional): Number of results per page (default: <span class="inline-code" id="1734147559#-ousc6m_138">10</span>).</p></li></ul></li><li class="list-item" id="1734147559#-ousc6m_112"><p id="1734147559#-ousc6m_139"><span class="control" id="1734147559#-ousc6m_141">Response (200 - Success)</span>:</p><div class="detached code-block" id="1734147559#-ousc6m_140"><pre><code class="language-json">{
  &quot;content&quot;: [
    {
      &quot;id&quot;: &quot;UUID of the API key&quot;,
      &quot;parkingId&quot;: &quot;UUID of the parking&quot;,
      &quot;scope&quot;: [&quot;SCOPE_1&quot;, &quot;SCOPE_2&quot;],
      &quot;status&quot;: &quot;ACTIVE&quot;
    }
  ],
  &quot;page&quot;: 1,
  &quot;size&quot;: 10,
  &quot;totalElements&quot;: 50
}</code></pre></div></li></ul></section><section class="detached"><h3 id="1734147559#4-revoke-an-api-key" data-toc="4-revoke-an-api-key#API-keys.md-4-revoke-an-api-key">4. Revoke an API Key</h3><ul class="list" id="1734147559#-ousc6m_143" start="1"><li class="list-item" id="1734147559#-ousc6m_146"><p id="1734147559#-ousc6m_153"><span class="control" id="1734147559#-ousc6m_154">URL</span>: <span class="inline-code" id="1734147559#-ousc6m_155">/api/v1/api-keys/{id}/revoke</span></p></li><li class="list-item" id="1734147559#-ousc6m_147"><p id="1734147559#-ousc6m_156"><span class="control" id="1734147559#-ousc6m_157">Method</span>: <span class="inline-code" id="1734147559#-ousc6m_158">PUT</span></p></li><li class="list-item" id="1734147559#-ousc6m_148"><p id="1734147559#-ousc6m_159"><span class="control" id="1734147559#-ousc6m_160">Description</span>: Revokes an active API key, marking it as no longer valid.</p></li><li class="list-item" id="1734147559#-ousc6m_149"><p id="1734147559#-ousc6m_161"><span class="control" id="1734147559#-ousc6m_163">Path Parameters</span>:</p><ul class="list" id="1734147559#-ousc6m_162" start="1"><li class="list-item" id="1734147559#-ousc6m_164"><p><span class="inline-code" id="1734147559#-ousc6m_165">id</span>: UUID of the API key to be revoked.</p></li></ul></li><li class="list-item" id="1734147559#-ousc6m_150"><p id="1734147559#-ousc6m_166"><span class="control" id="1734147559#-ousc6m_168">Request Body (JSON)</span>:</p><div class="detached code-block" id="1734147559#-ousc6m_167"><pre><code class="language-json">{
  &quot;revokedBy&quot;: &quot;UUID of the current session user (filled automatically)&quot;
}</code></pre></div></li><li class="list-item" id="1734147559#-ousc6m_151"><p id="1734147559#-ousc6m_169"><span class="control" id="1734147559#-ousc6m_171">Response (200 - Success)</span>:</p><div class="detached code-block" id="1734147559#-ousc6m_170"><pre><code class="language-json">{
  &quot;id&quot;: &quot;UUID of the API key&quot;,
  &quot;keyValue&quot;: &quot;unique-key-value&quot;,
  &quot;parkingId&quot;: &quot;UUID of the parking&quot;,
  &quot;scope&quot;: [&quot;SCOPE_1&quot;, &quot;SCOPE_2&quot;],
  &quot;issuedBy&quot;: &quot;UUID of the issuer&quot;,
  &quot;revokedBy&quot;: &quot;UUID of revoker&quot;,
  &quot;status&quot;: &quot;REVOKED&quot;
}</code></pre></div></li><li class="list-item" id="1734147559#-ousc6m_152"><p id="1734147559#-ousc6m_172"><span class="control" id="1734147559#-ousc6m_174">Error Responses</span>:</p><ul class="list" id="1734147559#-ousc6m_173" start="1"><li class="list-item" id="1734147559#-ousc6m_175"><p><span class="control" id="1734147559#-ousc6m_177">400 Bad Request</span>: API key is already revoked.</p></li><li class="list-item" id="1734147559#-ousc6m_176"><p><span class="control" id="1734147559#-ousc6m_178">404 Not Found</span>: API key with the specified ID does not exist.</p></li></ul></li></ul></section><section class="detached"><h3 id="1734147559#5-delete-an-api-key" data-toc="5-delete-an-api-key#API-keys.md-5-delete-an-api-key">5. Delete an API Key</h3><ul class="list" id="1734147559#-ousc6m_180" start="1"><li class="list-item" id="1734147559#-ousc6m_183"><p><span class="control" id="1734147559#-ousc6m_189">URL</span>: <span class="inline-code" id="1734147559#-ousc6m_190">/api/v1/api-keys/{id}</span></p></li><li class="list-item" id="1734147559#-ousc6m_184"><p><span class="control" id="1734147559#-ousc6m_191">Method</span>: <span class="inline-code" id="1734147559#-ousc6m_192">DELETE</span></p></li><li class="list-item" id="1734147559#-ousc6m_185"><p><span class="control" id="1734147559#-ousc6m_193">Description</span>: Permanently deletes the specified API key from the system.</p></li><li class="list-item" id="1734147559#-ousc6m_186"><p><span class="control" id="1734147559#-ousc6m_194">Path Parameters</span>: </p><ul class="list" id="1734147559#-ousc6m_195" start="1"><li class="list-item" id="1734147559#-ousc6m_196"><p><span class="inline-code" id="1734147559#-ousc6m_197">id</span>: UUID of the API key to be deleted.</p></li></ul></li><li class="list-item" id="1734147559#-ousc6m_187"><p><span class="control" id="1734147559#-ousc6m_198">Response (204 - No Content)</span>: </p><ul class="list" id="1734147559#-ousc6m_199" start="1"><li class="list-item" id="1734147559#-ousc6m_200"><p>No content provided on success.</p></li></ul></li><li class="list-item" id="1734147559#-ousc6m_188"><p><span class="control" id="1734147559#-ousc6m_201">Error Responses</span>: </p><ul class="list" id="1734147559#-ousc6m_202" start="1"><li class="list-item" id="1734147559#-ousc6m_203"><p><span class="control" id="1734147559#-ousc6m_204">404 Not Found</span>: API key with the specified ID does not exist.</p></li></ul></li></ul></section><section class="detached"><h3 id="1734147559#6-validate-api-key" data-toc="6-validate-api-key#API-keys.md-6-validate-api-key">6. Validate API Key</h3><ul class="list" id="1734147559#-ousc6m_206" start="1"><li class="list-item" id="1734147559#-ousc6m_209"><p id="1734147559#-ousc6m_215"><span class="control" id="1734147559#-ousc6m_216">URL</span>: <span class="inline-code" id="1734147559#-ousc6m_217">/api/v1/api-keys/validate/{keyValue}</span></p></li><li class="list-item" id="1734147559#-ousc6m_210"><p id="1734147559#-ousc6m_218"><span class="control" id="1734147559#-ousc6m_219">Method</span>: <span class="inline-code" id="1734147559#-ousc6m_220">GET</span></p></li><li class="list-item" id="1734147559#-ousc6m_211"><p id="1734147559#-ousc6m_221"><span class="control" id="1734147559#-ousc6m_222">Description</span>: Validates the provided API key and retrieves its details if valid.</p></li><li class="list-item" id="1734147559#-ousc6m_212"><p id="1734147559#-ousc6m_223"><span class="control" id="1734147559#-ousc6m_225">Path Parameters</span>:</p><ul class="list" id="1734147559#-ousc6m_224" start="1"><li class="list-item" id="1734147559#-ousc6m_226"><p><span class="inline-code" id="1734147559#-ousc6m_227">keyValue</span>: API key to be validated.</p></li></ul></li><li class="list-item" id="1734147559#-ousc6m_213"><p id="1734147559#-ousc6m_228"><span class="control" id="1734147559#-ousc6m_230">Response (200 - Success)</span>:</p><div class="detached code-block" id="1734147559#-ousc6m_229"><pre><code class="language-json">{
  &quot;id&quot;: &quot;UUID of the API key&quot;,
  &quot;keyValue&quot;: &quot;unique-key-value&quot;,
  &quot;parkingId&quot;: &quot;UUID of the parking&quot;,
  &quot;scope&quot;: [&quot;SCOPE_1&quot;, &quot;SCOPE_2&quot;],
  &quot;issuedBy&quot;: &quot;UUID of the issuer&quot;,
  &quot;revokedBy&quot;: null,
  &quot;status&quot;: &quot;ACTIVE&quot;
}</code></pre></div></li><li class="list-item" id="1734147559#-ousc6m_214"><p id="1734147559#-ousc6m_231"><span class="control" id="1734147559#-ousc6m_233">Error Responses</span>:</p><ul class="list" id="1734147559#-ousc6m_232" start="1"><li class="list-item" id="1734147559#-ousc6m_234"><p><span class="control" id="1734147559#-ousc6m_235">404 Not Found</span>: API key with the specified ID does not exist.</p></li></ul></li></ul></section></section><section class="detached"><h2 id="1734147559#request-validation-rules" data-toc="request-validation-rules#API-keys.md-request-validation-rules">Request Validation Rules</h2><ol class="list list-decimal" id="1734147559#-ousc6m_237" type="1" start="1"><li class="list-item" id="1734147559#-ousc6m_240"><p><span class="control" id="1734147559#-ousc6m_243">Key Uniqueness</span>: The <span class="inline-code" id="1734147559#-ousc6m_244">keyValue</span> field must be globally unique.</p></li><li class="list-item" id="1734147559#-ousc6m_241"><p><span class="control" id="1734147559#-ousc6m_245">Valid UUID Format</span>: </p><ul class="list" id="1734147559#-ousc6m_246" start="1"><li class="list-item" id="1734147559#-ousc6m_247"><p>Fields such as <span class="inline-code" id="1734147559#-ousc6m_249">parkingId</span>, <span class="inline-code" id="1734147559#-ousc6m_250">issuedBy</span>, and <span class="inline-code" id="1734147559#-ousc6m_251">revokedBy</span> must conform to the UUID standard.</p></li><li class="list-item" id="1734147559#-ousc6m_248"><p><span class="inline-code" id="1734147559#-ousc6m_252">revokedBy</span> field is populated automatically with the session user's UUID; cannot be set manually.</p></li></ul></li><li class="list-item" id="1734147559#-ousc6m_242"><p><span class="control" id="1734147559#-ousc6m_253">Field Constraints</span>: </p><ul class="list" id="1734147559#-ousc6m_254" start="1"><li class="list-item" id="1734147559#-ousc6m_255"><p><span class="inline-code" id="1734147559#-ousc6m_258">scope</span> field must not be empty and must include at least one valid permission.</p></li><li class="list-item" id="1734147559#-ousc6m_256"><p>Valid values for <span class="inline-code" id="1734147559#-ousc6m_259">scope</span>: <span class="inline-code" id="1734147559#-ousc6m_260">['SCOPE_1', 'SCOPE_2']</span>. The list of permissions is synchronized with the system's database.</p></li><li class="list-item" id="1734147559#-ousc6m_257"><p><span class="inline-code" id="1734147559#-ousc6m_261">status</span> must be one of the accepted values: <span class="inline-code" id="1734147559#-ousc6m_262">ACTIVE</span>, <span class="inline-code" id="1734147559#-ousc6m_263">INACTIVE</span>, or <span class="inline-code" id="1734147559#-ousc6m_264">REVOKED</span>.</p></li></ul></li></ol></section><section class="detached"><h2 id="1734147559#controller-class-outline" data-toc="controller-class-outline#API-keys.md-controller-class-outline">Controller Class Outline</h2><p id="1734147559#-ousc6m_266">The <span class="inline-code" id="1734147559#-ousc6m_270">ApiKeyController</span> class implements the following endpoints:</p><ul class="list" id="1734147559#-ousc6m_267" start="1"><li class="list-item" id="1734147559#-ousc6m_271"><p><span class="inline-code" id="1734147559#-ousc6m_276">@PostMapping(&quot;/api/v1/api-keys/generate/{parkingId}&quot;)</span>: Create a new API key.</p></li><li class="list-item" id="1734147559#-ousc6m_272"><p><span class="inline-code" id="1734147559#-ousc6m_277">@GetMapping(&quot;/api-keys/search&quot;)</span>: List all API keys (paginated).</p></li><li class="list-item" id="1734147559#-ousc6m_273"><p><span class="inline-code" id="1734147559#-ousc6m_278">@PutMapping(&quot;/api-keys/{id}/revoke&quot;)</span>: Revoke an API key by ID.</p></li><li class="list-item" id="1734147559#-ousc6m_274"><p><span class="inline-code" id="1734147559#-ousc6m_279">@DeleteMapping(&quot;/api-keys/{id}&quot;)</span>: Delete an existing API key by ID.</p></li><li class="list-item" id="1734147559#-ousc6m_275"><p><span class="inline-code" id="1734147559#-ousc6m_280">@DeleteMapping(&quot;/api-keys/validate/{keyValue}&quot;)</span>: Validate an API key</p></li></ul></section><section class="detached"><h2 id="1734147559#example-use-case" data-toc="example-use-case#API-keys.md-example-use-case">Example Use Case</h2><section class="detached"><h3 id="1734147559#revoking-an-api-key" data-toc="revoking-an-api-key#API-keys.md-revoking-an-api-key">Revoking an API Key</h3><ol class="list list-decimal" id="1734147559#-ousc6m_284" type="1" start="1"><li class="list-item" id="1734147559#-ousc6m_290"><p><span class="control" id="1734147559#-ousc6m_293">Client Action</span>: </p><ul class="list" id="1734147559#-ousc6m_294" start="1"><li class="list-item" id="1734147559#-ousc6m_295"><p>The administrator sends a request to revoke an API key with ID <span class="inline-code" id="1734147559#-ousc6m_296">1234</span>.</p></li></ul></li><li class="list-item" id="1734147559#-ousc6m_291"><p><span class="control" id="1734147559#-ousc6m_297">System Validation</span>: </p><ul class="list" id="1734147559#-ousc6m_298" start="1"><li class="list-item" id="1734147559#-ousc6m_299"><p>Confirms the key exists and its current status is <span class="inline-code" id="1734147559#-ousc6m_300">ACTIVE</span>.</p></li></ul></li><li class="list-item" id="1734147559#-ousc6m_292"><p><span class="control" id="1734147559#-ousc6m_301">Outcome</span>: </p><ul class="list" id="1734147559#-ousc6m_302" start="1"><li class="list-item" id="1734147559#-ousc6m_303"><p>API key's status is updated to <span class="inline-code" id="1734147559#-ousc6m_305">REVOKED</span>.</p></li><li class="list-item" id="1734147559#-ousc6m_304"><p>The <span class="inline-code" id="1734147559#-ousc6m_306">revokedBy</span> field is populated automatically with the session user's UUID; cannot be set manually.</p></li></ul></li></ol><p id="1734147559#-ousc6m_285">Example Request:</p><div class="detached code-block" id="1734147559#-ousc6m_286"><pre><code class="language-http">PUT /api/v1/api-keys/1234/revoke
Content-Type: application/json</code></pre></div><p id="1734147559#-ousc6m_287">Example Response:</p><div class="detached code-block" id="1734147559#-ousc6m_288"><pre><code class="language-json">{
  &quot;id&quot;: &quot;1234&quot;,
  &quot;keyValue&quot;: &quot;unique-key-value&quot;,
  &quot;parkingId&quot;: &quot;UUID of the parking&quot;,
  &quot;scope&quot;: [&quot;SCOPE_1&quot;, &quot;SCOPE_2&quot;],
  &quot;issuedBy&quot;: &quot;UUID of the issuer&quot;,
  &quot;revokedBy&quot;: &quot;admin-uuid&quot;,
  &quot;status&quot;: &quot;REVOKED&quot;
}</code></pre></div></section></section><section class="detached"><h2 id="1734147559#security-and-logging" data-toc="security-and-logging#API-keys.md-security-and-logging">Security and Logging</h2><ul class="list" id="1734147559#-ousc6m_308" start="1"><li class="list-item" id="1734147559#-ousc6m_312"><p>This API uses secure authentication mechanisms such as tokens or API key validation.</p></li><li class="list-item" id="1734147559#-ousc6m_313"><p>All sensitive operations (creation, revocation, deletion) should be logged for auditing purposes.</p></li></ul><p id="1734147559#-ousc6m_309"><span class="control" id="1734147559#-ousc6m_314">Notes</span>:</p><ol class="list list-decimal" id="1734147559#-ousc6m_310" type="1" start="1"><li class="list-item" id="1734147559#-ousc6m_315"><p>Proper error handling ensures robust fault tolerance.</p></li><li class="list-item" id="1734147559#-ousc6m_316"><p>This API design is compliant with REST principles for scalability and maintainability.</p></li></ol></section></article></div></section><section class="topic"><div><article class="article"><h1 class="main-title" id="-103326954">Parking Creation Process</h1><section class="detached"><h2 id="-103326954#endpoint-post-parking-creation" data-toc="endpoint-post-parking-creation#Parking-Creation-Process.md-endpoint-post-parking-creation">Endpoint: POST /parking/creation</h2><section class="detached"><h3 id="-103326954#description" data-toc="description#Parking-Creation-Process.md-description">Description:</h3><p id="-103326954#z4qznwj_9">This endpoint is used to create a new parking and associate it with an owner. To successfully interact with this endpoint, the request must include a valid JWT token for authentication and authorization.</p></section><section class="detached"><h3 id="-103326954#requirements" data-toc="requirements#Parking-Creation-Process.md-requirements">Requirements:</h3><ul class="list" id="-103326954#z4qznwj_10" start="1"><li class="list-item" id="-103326954#z4qznwj_11"><p><span class="control" id="-103326954#z4qznwj_13">JWT Token</span>: A valid JSON Web Token (JWT) must be included in the request headers for authentication.</p></li><li class="list-item" id="-103326954#z4qznwj_12"><p><span class="control" id="-103326954#z4qznwj_14">User Role</span>: </p><ul class="list" id="-103326954#z4qznwj_15" start="1"><li class="list-item" id="-103326954#z4qznwj_16"><p>The user must have the <span class="inline-code" id="-103326954#z4qznwj_18">PARKING_OWNER</span> role in the system.</p></li><li class="list-item" id="-103326954#z4qznwj_17"><p>The user must also have the necessary permissions associated with this role.</p></li></ul></li></ul></section><section class="detached"><h3 id="-103326954#purpose" data-toc="purpose#Parking-Creation-Process.md-purpose">Purpose:</h3><p id="-103326954#z4qznwj_19">This operation is restricted to users assigned the <span class="inline-code" id="-103326954#z4qznwj_22">PARKING_OWNER</span> role, ensuring that only authorized individuals can associate a new parking entity to the specified owner.</p><p id="-103326954#z4qznwj_20">Request body to create new parking:</p><div class="detached code-block" id="-103326954#z4qznwj_21"><pre><code class="language-json">{
  &quot;name&quot;: &quot;Central Parking&quot;,
  &quot;address&quot;: {
    &quot;city&quot;: &quot;New York&quot;,
    &quot;countryCode&quot;: &quot;US&quot;,
    &quot;postalCode&quot;: &quot;10001&quot;,
    &quot;street&quot;: &quot;5th Avenue&quot;,
    &quot;buildingNumber&quot;: &quot;12A&quot;,
    &quot;latitude&quot;: 40.712776,
    &quot;longitude&quot;: -74.005974,
    &quot;isBelongToAnyInstitution&quot;: true,
    &quot;institutionName&quot;: &quot;Big Corp&quot;
  }
}</code></pre></div></section></section></article></div></section><section class="topic"><div><article class="article"><h1 class="main-title" id="3005864">Authorization and Authentication System Documentation</h1><p id="3005864#-y6e61b_3">This document provides comprehensive guidelines for frontend developers on how to implement authorization and authentication in the system using REST APIs. The system relies on <span class="control" id="3005864#-y6e61b_10">JWT (JSON Web Tokens)</span> for secure communication. This guide outlines the authorization workflow, available API endpoints, error handling, and example usage to help you integrate seamlessly into the system.</p><section class="detached"><h2 id="3005864#overview" data-toc="overview#auth.md-overview">Overview</h2><p id="3005864#-y6e61b_12">The authorization system is designed to securely manage user authentication and protect access to resources using tokens. It supports:</p><ul class="list" id="3005864#-y6e61b_13" start="1"><li class="list-item" id="3005864#-y6e61b_16"><p><span class="control" id="3005864#-y6e61b_19">Credentials-based authentication</span>: Login using username and password.</p></li><li class="list-item" id="3005864#-y6e61b_17"><p><span class="control" id="3005864#-y6e61b_20">JWT-based authorization</span>: Protect API requests using an access token (short-lived).</p></li><li class="list-item" id="3005864#-y6e61b_18"><p><span class="control" id="3005864#-y6e61b_21">Token refreshing</span>: Obtain a new access token when the old one expires without re-authentication.</p></li></ul><section class="detached"><h3 id="3005864#authorization-workflow" data-toc="authorization-workflow#auth.md-authorization-workflow">Authorization Workflow</h3><ol class="list list-decimal" id="3005864#-y6e61b_23" type="1" start="1"><li class="list-item" id="3005864#-y6e61b_28"><p><span class="control" id="3005864#-y6e61b_29">Authentication</span>: A user logs in with their credentials and receives two tokens:</p></li></ol><ul class="list" id="3005864#-y6e61b_24" start="1"><li class="list-item" id="3005864#-y6e61b_30"><p><span class="control" id="3005864#-y6e61b_32">Access Token</span>: Used for accessing protected resources.</p></li><li class="list-item" id="3005864#-y6e61b_31"><p><span class="control" id="3005864#-y6e61b_33">Refresh Token</span>: Used to generate a new access token when the old one expires.</p></li></ul><ol class="list list-decimal" id="3005864#-y6e61b_25" type="1" start="2"><li class="list-item" id="3005864#-y6e61b_34"><p><span class="control" id="3005864#-y6e61b_36">Securing Requests</span>: The access token is sent in the <span class="inline-code" id="3005864#-y6e61b_37">Authorization</span> header for all secure API calls.</p></li><li class="list-item" id="3005864#-y6e61b_35"><p><span class="control" id="3005864#-y6e61b_38">Refreshing Tokens</span>: If an access token expires, the refresh token is used to obtain a new access token without requiring the user to log in again.</p></li></ol></section></section><section class="detached"><h2 id="3005864#api-endpoints" data-toc="api-endpoints#auth.md-api-endpoints">API Endpoints</h2><p id="3005864#-y6e61b_40">The following API endpoints define the authentication and authorization flow within the system.</p><section class="detached"><h3 id="3005864#1-login-token-retrieval" data-toc="1-login-token-retrieval#auth.md-1-login-token-retrieval">1. Login: Token Retrieval</h3><p id="3005864#-y6e61b_46">Authenticate the user and retrieve tokens for future requests.</p><ul class="list" id="3005864#-y6e61b_47" start="1"><li class="list-item" id="3005864#-y6e61b_51"><p><span class="control" id="3005864#-y6e61b_53">Endpoint</span>: <span class="inline-code" id="3005864#-y6e61b_54">/api/v1/security/login</span></p></li><li class="list-item" id="3005864#-y6e61b_52"><p><span class="control" id="3005864#-y6e61b_55">Method</span>: <span class="inline-code" id="3005864#-y6e61b_56">POST</span></p></li></ul><section class="detached"><h4 id="3005864#request-login" data-toc="request-login#auth.md-request-login">Request (Login):</h4><ul class="list" id="3005864#-y6e61b_58" start="1"><li class="list-item" id="3005864#-y6e61b_61"><p><span class="control" id="3005864#-y6e61b_63">Headers</span>: None</p></li><li class="list-item" id="3005864#-y6e61b_62"><p><span class="control" id="3005864#-y6e61b_64">Body</span>:</p></li></ul><div class="detached code-block" id="3005864#-y6e61b_59"><pre><code class="language-json">{
  &quot;login&quot;: &quot;&lt;string&gt;&quot;,
  &quot;password&quot;: &quot;&lt;string&gt;&quot;
}</code></pre></div></section><section class="detached"><h4 id="3005864#login-response" data-toc="login-response#auth.md-login-response">Login Response:</h4><ul class="list" id="3005864#-y6e61b_66" start="1"><li class="list-item" id="3005864#-y6e61b_71"><p><span class="control" id="3005864#-y6e61b_72">200 OK</span> (Success):</p></li></ul><div class="detached code-block" id="3005864#-y6e61b_67"><pre><code class="language-json">{
  &quot;accessToken&quot;: &quot;&lt;string&gt;&quot;,
  &quot;accessTokenExpiry&quot;: &quot;&lt;datetime&gt;&quot;,
  &quot;refreshToken&quot;: &quot;&lt;string&gt;&quot;,
  &quot;refreshTokenExpiry&quot;: &quot;&lt;datetime&gt;&quot;
}</code></pre></div><ul class="list" id="3005864#-y6e61b_68" start="1"><li class="list-item" id="3005864#-y6e61b_73"><p><span class="control" id="3005864#-y6e61b_74">401 Unauthorized</span> (Failure): If provided credentials are invalid.</p></li></ul></section></section><section class="detached"><h3 id="3005864#2-access-protected-resources" data-toc="2-access-protected-resources#auth.md-2-access-protected-resources">2. Access Protected Resources</h3><p id="3005864#-y6e61b_76">Access secured endpoints by including the access token in the request header.</p><ul class="list" id="3005864#-y6e61b_77" start="1"><li class="list-item" id="3005864#-y6e61b_81"><p><span class="control" id="3005864#-y6e61b_83">Endpoint</span>: Varies based on the specific resource (e.g., <span class="inline-code" id="3005864#-y6e61b_84">/api/secure/resource</span>)</p></li><li class="list-item" id="3005864#-y6e61b_82"><p><span class="control" id="3005864#-y6e61b_85">Method</span>: Depends on the requested resource (e.g., <span class="inline-code" id="3005864#-y6e61b_86">GET</span>, <span class="inline-code" id="3005864#-y6e61b_87">POST</span>, etc.)</p></li></ul><section class="detached"><h4 id="3005864#request-protected-resource" data-toc="request-protected-resource#auth.md-request-protected-resource">Request (Protected Resource):</h4><ul class="list" id="3005864#-y6e61b_89" start="1"><li class="list-item" id="3005864#-y6e61b_94"><p><span class="control" id="3005864#-y6e61b_95">Headers</span>:</p></li></ul><div class="detached code-block" id="3005864#-y6e61b_90"><pre><code class="language-http">Authorization: Bearer &lt;accessToken&gt;</code></pre></div><ul class="list" id="3005864#-y6e61b_91" start="1"><li class="list-item" id="3005864#-y6e61b_96"><p><span class="control" id="3005864#-y6e61b_97">Body</span> (if required by the resource):</p></li></ul><div class="detached code-block" id="3005864#-y6e61b_92"><pre><code class="language-json">{
  &quot;examplePayloadField&quot;: &quot;&lt;value&gt;&quot;
}</code></pre></div></section><section class="detached"><h4 id="3005864#protected-resource-response" data-toc="protected-resource-response#auth.md-protected-resource-response">Protected Resource Response:</h4><ul class="list" id="3005864#-y6e61b_99" start="1"><li class="list-item" id="3005864#-y6e61b_102"><p><span class="control" id="3005864#-y6e61b_104">200 OK</span> (Success): Returns the requested resource.</p></li><li class="list-item" id="3005864#-y6e61b_103"><p><span class="control" id="3005864#-y6e61b_105">Error Responses</span>: </p><ul class="list" id="3005864#-y6e61b_106" start="1"><li class="list-item" id="3005864#-y6e61b_107"><p><span class="control" id="3005864#-y6e61b_109">401 Unauthorized</span>: Invalid or expired access token.</p></li><li class="list-item" id="3005864#-y6e61b_108"><p><span class="control" id="3005864#-y6e61b_110">403 Forbidden</span>: User lacks the required permissions to access the resource.</p></li></ul></li></ul></section></section><section class="detached"><h3 id="3005864#3-token-refresh" data-toc="3-token-refresh#auth.md-3-token-refresh">3. Token Refresh</h3><p id="3005864#-y6e61b_112">Obtain a new access token using the refresh token.</p><ul class="list" id="3005864#-y6e61b_113" start="1"><li class="list-item" id="3005864#-y6e61b_117"><p><span class="control" id="3005864#-y6e61b_119">Endpoint</span>: <span class="inline-code" id="3005864#-y6e61b_120">/api/v1/security/jwt/refresh-token</span></p></li><li class="list-item" id="3005864#-y6e61b_118"><p><span class="control" id="3005864#-y6e61b_121">Method</span>: <span class="inline-code" id="3005864#-y6e61b_122">POST</span></p></li></ul><section class="detached"><h4 id="3005864#request-token-refresh" data-toc="request-token-refresh#auth.md-request-token-refresh">Request (Token Refresh):</h4><ul class="list" id="3005864#-y6e61b_124" start="1"><li class="list-item" id="3005864#-y6e61b_128"><p><span class="control" id="3005864#-y6e61b_129">Headers</span>:</p></li></ul><div class="detached code-block" id="3005864#-y6e61b_125"><pre><code class="language-http">Authorization: Bearer &lt;refreshToken&gt;</code></pre></div><ul class="list" id="3005864#-y6e61b_126" start="1"><li class="list-item" id="3005864#-y6e61b_130"><p><span class="control" id="3005864#-y6e61b_131">Body</span>: None</p></li></ul></section><section class="detached"><h4 id="3005864#refresh-token-response" data-toc="refresh-token-response#auth.md-refresh-token-response">Refresh Token Response:</h4><ul class="list" id="3005864#-y6e61b_133" start="1"><li class="list-item" id="3005864#-y6e61b_138"><p><span class="control" id="3005864#-y6e61b_139">200 OK</span> (Success):</p></li></ul><div class="detached code-block" id="3005864#-y6e61b_134"><pre><code class="language-json">{
  &quot;accessToken&quot;: &quot;&lt;string&gt;&quot;,
  &quot;accessTokenExpiry&quot;: &quot;&lt;datetime&gt;&quot;,
  &quot;refreshToken&quot;: &quot;&lt;string&gt;&quot;,
  &quot;refreshTokenExpiry&quot;: &quot;&lt;datetime&gt;&quot;
}</code></pre></div><ul class="list" id="3005864#-y6e61b_135" start="1"><li class="list-item" id="3005864#-y6e61b_140"><p><span class="control" id="3005864#-y6e61b_141">401 Unauthorized</span> (Failure): If the refresh token is invalid or expired.</p></li></ul></section></section></section><section class="detached"><h2 id="3005864#detailed-authorization-workflow" data-toc="detailed-authorization-workflow#auth.md-detailed-authorization-workflow">Detailed Authorization Workflow</h2><section class="detached"><h3 id="3005864#1-login-authorization-process" data-toc="1-login-authorization-process#auth.md-1-login-authorization-process">1. Login: Authorization Process</h3><ol class="list list-decimal" id="3005864#-y6e61b_148" type="1" start="1"><li class="list-item" id="3005864#-y6e61b_151"><p>The user sends a <span class="inline-code" id="3005864#-y6e61b_153">POST</span> request to <span class="inline-code" id="3005864#-y6e61b_154">/api/v1/security/login</span> with their username and password.</p></li><li class="list-item" id="3005864#-y6e61b_152"><p>The system validates the credentials and returns:</p></li></ol><ul class="list" id="3005864#-y6e61b_149" start="1"><li class="list-item" id="3005864#-y6e61b_155"><p>An <span class="control" id="3005864#-y6e61b_157">access token</span>: Used for accessing resources.</p></li><li class="list-item" id="3005864#-y6e61b_156"><p>A <span class="control" id="3005864#-y6e61b_158">refresh token</span>: For generating new access tokens when the current one expires.</p></li></ul></section><section class="detached"><h3 id="3005864#2-securing-requests" data-toc="2-securing-requests#auth.md-2-securing-requests">2. Securing Requests</h3><ol class="list list-decimal" id="3005864#-y6e61b_160" type="1" start="1"><li class="list-item" id="3005864#-y6e61b_162"><p id="3005864#-y6e61b_164">Add the <span class="control" id="3005864#-y6e61b_166">access token</span> to the <span class="inline-code" id="3005864#-y6e61b_167">Authorization</span> header of every request to secured resources as follows:</p><div class="detached code-block" id="3005864#-y6e61b_165"><pre><code class="language-http">Authorization: Bearer &lt;accessToken&gt;</code></pre></div></li><li class="list-item" id="3005864#-y6e61b_163"><p id="3005864#-y6e61b_168">Provide any additional payload required by the specific endpoint.</p></li></ol></section><section class="detached"><h3 id="3005864#3-refreshing-tokens" data-toc="3-refreshing-tokens#auth.md-3-refreshing-tokens">3. Refreshing Tokens</h3><ol class="list list-decimal" id="3005864#-y6e61b_170" type="1" start="1"><li class="list-item" id="3005864#-y6e61b_175"><p>If the system returns a <span class="inline-code" id="3005864#-y6e61b_176">401 Unauthorized</span> error due to an expired access token:</p></li></ol><ul class="list" id="3005864#-y6e61b_171" start="1"><li class="list-item" id="3005864#-y6e61b_177"><p>Send a <span class="inline-code" id="3005864#-y6e61b_178">POST</span> request to <span class="inline-code" id="3005864#-y6e61b_179">/api/v1/security/jwt/refresh-token</span> with the <span class="control" id="3005864#-y6e61b_180">refresh token</span> in the <span class="inline-code" id="3005864#-y6e61b_181">Authorization</span> header.</p></li></ul><ol class="list list-decimal" id="3005864#-y6e61b_172" type="1" start="2"><li class="list-item" id="3005864#-y6e61b_182"><p>Upon success, use the newly issued access token for subsequent requests.</p></li><li class="list-item" id="3005864#-y6e61b_183"><p>If the refresh token is invalid or expired, prompt the user to log in again.</p></li></ol></section></section><section class="detached"><h2 id="3005864#example-usage-flow" data-toc="example-usage-flow#auth.md-example-usage-flow">Example Usage Flow</h2><section class="detached"><h3 id="3005864#1-login-to-get-tokens" data-toc="1-login-to-get-tokens#auth.md-1-login-to-get-tokens">1. Login to Get Tokens</h3><p id="3005864#-y6e61b_190"><span class="control" id="3005864#-y6e61b_196">Request</span>:</p><div class="detached code-block" id="3005864#-y6e61b_191"><pre><code class="language-bash">POST /api/v1/security/login
Content-Type: application/json

{
  &quot;login&quot;: &quot;exampleUser&quot;,
  &quot;password&quot;: &quot;password123&quot;
}</code></pre></div><p id="3005864#-y6e61b_192"><span class="control" id="3005864#-y6e61b_197">Response</span>:</p><div class="detached code-block" id="3005864#-y6e61b_193"><pre><code class="language-json">{
  &quot;accessToken&quot;: &quot;eyJhbGciOiJIUzI1NiIsInR5cC...&quot;,
  &quot;refreshToken&quot;: &quot;eyJhbGciOiJIUzI1NiIsInR5cC...&quot;,
  &quot;accessTokenExpiry&quot;: &quot;2025-01-04T19:16:07.298428Z&quot;,
  &quot;refreshTokenExpiry&quot;: &quot;2025-01-05T19:11:07.298013Z&quot;
}</code></pre></div></section><section class="detached"><h3 id="3005864#2-use-access-token-to-fetch-a-protected-resource" data-toc="2-use-access-token-to-fetch-a-protected-resource#auth.md-2-use-access-token-to-fetch-a-protected-resource">2. Use Access Token to Fetch a Protected Resource</h3><p id="3005864#-y6e61b_199"><span class="control" id="3005864#-y6e61b_205">Request</span>:</p><div class="detached code-block" id="3005864#-y6e61b_200"><pre><code class="language-bash">GET /api/secure/resource
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5c...</code></pre></div><p id="3005864#-y6e61b_201"><span class="control" id="3005864#-y6e61b_206">Response</span>:</p><div class="detached code-block" id="3005864#-y6e61b_202"><pre><code class="language-json">{
  &quot;data&quot;: &quot;Some protected resource&quot;
}</code></pre></div></section><section class="detached"><h3 id="3005864#3-refresh-expired-token" data-toc="3-refresh-expired-token#auth.md-3-refresh-expired-token">3. Refresh Expired Token</h3><p id="3005864#-y6e61b_208"><span class="control" id="3005864#-y6e61b_214">Request</span>:</p><div class="detached code-block" id="3005864#-y6e61b_209"><pre><code class="language-bash">POST /api/v1/security/jwt/refresh-token
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5c...</code></pre></div><p id="3005864#-y6e61b_210"><span class="control" id="3005864#-y6e61b_215">Response</span>:</p><div class="detached code-block" id="3005864#-y6e61b_211"><pre><code class="language-json">{
  &quot;accessToken&quot;: &quot;eyJhbGciOiJIUzI1NiIsInR5cC...&quot;,
  &quot;refreshToken&quot;: &quot;eyJhbGciOiJIUzI1NiIsInR5cC...&quot;,
  &quot;accessTokenExpiry&quot;: &quot;2025-01-04T19:16:07.298428Z&quot;,
  &quot;refreshTokenExpiry&quot;: &quot;2025-01-05T19:11:07.298013Z&quot;
}</code></pre></div></section></section><section class="detached"><h2 id="3005864#error-handling" data-toc="error-handling#auth.md-error-handling">Error Handling</h2><section class="detached"><h3 id="3005864#common-errors" data-toc="common-errors#auth.md-common-errors">Common Errors</h3><div class="table-wrapper detached"><table id="3005864#-y6e61b_221"><tr class="header-row" id="3005864#-y6e61b_223"><th id="3005864#-y6e61b_226"><p><span class="control" id="3005864#-y6e61b_228">Error Code</span></p></th><th id="3005864#-y6e61b_227"><p><span class="control" id="3005864#-y6e61b_229">Description</span></p></th></tr><tr class="" id="3005864#-y6e61b_224"><td id="3005864#-y6e61b_230"><p><span class="control" id="3005864#-y6e61b_232">401 Unauthorized</span></p></td><td id="3005864#-y6e61b_231"><p>The token is invalid, expired, or missing.</p></td></tr><tr class="" id="3005864#-y6e61b_225"><td id="3005864#-y6e61b_233"><p><span class="control" id="3005864#-y6e61b_235">403 Forbidden</span></p></td><td id="3005864#-y6e61b_234"><p>The user does not have permission to access the requested resource.</p></td></tr></table></div></section><section class="detached"><h3 id="3005864#resolving-errors" data-toc="resolving-errors#auth.md-resolving-errors">Resolving Errors</h3><ol class="list list-decimal" id="3005864#-y6e61b_237" type="1" start="1"><li class="list-item" id="3005864#-y6e61b_244"><p><span class="control" id="3005864#-y6e61b_245">401 Unauthorized</span>:</p></li></ol><ul class="list" id="3005864#-y6e61b_238" start="1"><li class="list-item" id="3005864#-y6e61b_246"><p>Verify that the access token is valid and included in the <span class="inline-code" id="3005864#-y6e61b_248">Authorization</span> header.</p></li><li class="list-item" id="3005864#-y6e61b_247"><p>If the token is expired, refresh it using the <span class="inline-code" id="3005864#-y6e61b_249">/api/v1/security/jwt/refresh-token</span> endpoint.</p></li></ul><ol class="list list-decimal" id="3005864#-y6e61b_239" type="1" start="2"><li class="list-item" id="3005864#-y6e61b_250"><p><span class="control" id="3005864#-y6e61b_251">403 Forbidden</span>:</p></li></ol><ul class="list" id="3005864#-y6e61b_240" start="1"><li class="list-item" id="3005864#-y6e61b_252"><p>Ensure that the user has sufficient permissions for the resource.</p></li></ul><p id="3005864#-y6e61b_242">This documentation ensures that frontend developers can effectively authenticate and authorize users, protect sensitive endpoints, and handle common error scenarios when integrating with the system.</p></section></section></article></div></section></div></body></html>